<div ibmGrid class="bx--grid--full-width">
  <form #swInboundSOView="ngForm">
    <div ibmRow class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 pt-32">
      <div ibmCol [columnNumbers]="{ lg: 16 }">
        <ibm-breadcrumb [noTrailingSlash]="true">
          <ibm-breadcrumb-item [current]="true" href="#1">
            Operation System
          </ibm-breadcrumb-item>
          <ibm-breadcrumb-item [current]="true" href="#1">
            Schedule Waste Management
          </ibm-breadcrumb-item>
          <ibm-breadcrumb-item>
            <a
              style="text-decoration: none"
              [routerLink]="['/operation-system/sw-inbound-so-report-list']"
              >Inbound SO Reporting List</a
            >
          </ibm-breadcrumb-item>
          <ibm-breadcrumb-item [current]="true" href="#1">
            Inbound SO Report Details
          </ibm-breadcrumb-item>
        </ibm-breadcrumb>
      </div>
    </div>

    <div ibmRow class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 mt-32">
      <div ibmCol [columnNumbers]="{ max: 16, xlg: 16, lg: 16 }" class="ph03">
        Inbound Service Order Report Details
      </div>
    </div>

    <div
      ibmRow
      class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 mt-32"
      [leftGutter]="false"
    >
      <div ibmCol [columnNumbers]="{ lg: 2 }" class="ph01">Company Name</div>
      <div ibmCol [columnNumbers]="{ lg: 6 }" class="bl01">
        {{ companyName }}
      </div>
    </div>

    <div
      ibmRow
      class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 mt-32"
      [leftGutter]="false"
    >
      <div ibmCol [columnNumbers]="{ lg: 2 }" class="ph01">Request By</div>
      <div ibmCol [columnNumbers]="{ lg: 6 }" class="bl01">
        {{ requestBy }}
      </div>
    </div>

    <div
      ibmRow
      class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 mt-32"
      [leftGutter]="false"
    >
      <div ibmCol [columnNumbers]="{ lg: 2 }" class="ph01">Form No.</div>
      <div ibmCol [columnNumbers]="{ lg: 6 }" class="bl01">
        {{ formNo }}
      </div>
    </div>

    <div
      ibmRow
      class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 mt-32"
      [leftGutter]="false"
    >
      <div ibmCol [columnNumbers]="{ lg: 2 }" class="ph01">Date Received</div>
      <div ibmCol [columnNumbers]="{ lg: 6 }" class="bl01">
        {{ dateReceived | date: "dd/MM/YYYY" }}
      </div>
    </div>

    <div
      ibmRow
      class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 mt-32"
      [leftGutter]="false"
    >
      <div ibmCol [columnNumbers]="{ lg: 2 }" class="ph01">Expiry Date</div>
      <div ibmCol [columnNumbers]="{ lg: 6 }" class="bl01">
        {{ expiryDate | date: "dd/MM/YYYY" }}
      </div>
    </div>

    <div
      ibmRow
      class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 mt-32"
      [leftGutter]="false"
    >
      <div ibmCol [columnNumbers]="{ lg: 2 }" class="ph01">
        Service Order No.
      </div>
      <div ibmCol [columnNumbers]="{ lg: 6 }" class="bl01">
        {{ soNo }}
      </div>
    </div>

    <div
      ibmRow
      class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 mt-32"
      [leftGutter]="false"
    >
      <div ibmCol [columnNumbers]="{ lg: 2 }" class="ph01">Status</div>
      <div
        ibmCol
        [columnNumbers]="{ lg: 6 }"
        class="bl01"
        [ngClass]="{ 'text-red': status === 'Pending Endorsement' }"
      >
        {{ status }}
      </div>
    </div>
    <br /><br />

    <div
      ibmRow
      class="bx--offset-max-2 bx--offset-xlg-2 bx--offset-lg-3"
      [leftGutter]="false"
      [rightGutter]="false"
      style="margin-top: 1rem"
    >
      <div ibmCol [columnNumbers]="{ lg: 12 }">
        <div class="form-item width-unset">
          <ibm-table-container>
            <div class="horizontal-overflow-table">
              <table class="bx--data-table">
                <thead>
                  <tr>
                    <th class="header1">No.</th>
                    <th class="header2">Waste Code</th>
                    <th class="header3">Qty.</th>
                    <th class="header4">UOM</th>
                    <th class="header5">Pallet ID</th>
                    <th class="header6">Pallet Weight (KG)</th>
                    <th class="header7">SO No.</th>
                    <th class="header8">Date Received</th>
                    <th class="header9">Expiry Date</th>
                    <th class="header10">Location ID</th>
                  </tr>
                </thead>

                <tbody class="white-bg">
                  <tr
                    *ngFor="
                      let rowDetails of inboundWasteDetail;
                      let postIndex = index
                    "
                    [ngClass]="{ 'invalid-tableRow': goodsInTableInvalid }"
                  >
                    <!-- <tr class="white-bg"> -->
                    <td>{{ postIndex + 1 }}.</td>

                    <td>{{ rowDetails.wasteCode }}</td>

                    <td class="w-130">{{ rowDetails.qty }}</td>

                    <td>{{ rowDetails.UOM }}</td>

                    <td class="w-130">{{ rowDetails.palletID }}</td>

                    <td>{{ rowDetails.palletWeight }}</td>

                    <td>{{ rowDetails.soNo }}</td>

                    <td>{{ rowDetails.dateReceived }}</td>

                    <td>{{ rowDetails.expiryDate }}</td>

                    <td>{{ rowDetails.locationID }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </ibm-table-container>
        </div>
      </div>
    </div>

    <br /><br /><br />
    <div ibmRow class="bx--offset-max-2 bx--offset-xlg-2 bx--offset-lg-3 pt-32">
      <div
        ibmCol
        [columnNumbers]="{ lg: 12, md: 10, sm: 5 }"
        class="d-flex-row"
        style="justify-content: flex-start; padding-left: 0"
      >
        <button
          class="mr-24"
          ibmButton="secondary"
          size="md"
          [routerLink]="['/operation-system/sw-inbound-so-report-list']"
        >
          Back
        </button>
        <button
          class="mr-24"
          ibmButton="primary"
          size="md"
          [disabled]="isDisable"
          (click)="openEndorsed = true"
          *ngIf="isDisplay"
        >
          Endorse
        </button>
      </div>
    </div>
    <br />
    <div
      ibmRow
      class="bx--offset-max-2 bx--offset-lg-3 bx--offset-xlg-2 mt-32"
      [leftGutter]="false"
      *ngIf="showNoti"
    >
      <div>
        <ibm-notification
          [notificationObj]="endorseNotification"
        ></ibm-notification>
      </div>
    </div>
    <br /><br /><br /><br /><br /><br />

    <ibm-modal
      [open]="openEndorsed"
      size="sm"
      (overlaySelected)="openEndorsed = false"
    >
      <ibm-modal-header
        ibmModalHeaderHeading
        (closeSelect)="openEndorsed = false"
      >
        <h4 style="font-weight: bold">Confirmation</h4>
      </ibm-modal-header>
      <div ibmModalContent class="bx--modal-content">
        <h4>Are you sure you want to submit?</h4>
        <h4>Kindly make sure all details are correct.</h4>
        <br /><br />
      </div>

      <ibm-modal-footer>
        <ng-container>
          <button ibmButton="secondary" (click)="openEndorsed = false">
            Cancel
          </button>
          <button
            ibmButton="primary"
            (click)="onEndorsed()"
            [attr.modal-primary-focus]="true"
          >
            Confirm
          </button>
        </ng-container>
      </ibm-modal-footer>
    </ibm-modal>
  </form>
</div>
